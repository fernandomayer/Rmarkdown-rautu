<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  
  <!-- bootstrap -->
  <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet"  id="style">-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  
  <!-- highlight.js -->
  <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" rel="stylesheet" id="code-style">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script>
  hljs.LANGUAGES.r=function(a){var b="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[a.HCM,{b:b,l:b,k:{keyword:"function if in break next repeat else for return switch while try tryCatch|10 stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...|10",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[a.BE],r:0},{cN:"string",b:"'",e:"'",c:[a.BE],r:0}]}}(hljs); </script>
  <!--<script type="text/javascript", src="https://yandex.st/highlightjs/7.3/languages/r.min.js"></script>-->
  
  <!-- Manific Popup -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/0.8.9/jquery.magnific-popup.min.js"></script>
  
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script defer="defer">
  // Function to generate the dynamic table of contents
  jQuery.fn.generate_TOC = function () {
    var base = $(this[0]);
  
    var selectors = ['h1', 'h2', 'h3', 'h4'];
  
    var last_ptr = [{}, {}, {}, {}];
  
    var anchors = {};
  
    generate_anchor = function (text) {
      var test = text.replace(/\W/g, '_');
  
      while(test in anchors){
        //if no suffix, add one
        if(test.match(/_\d+$/) === null){
          test = test + "_2";
        }
        //else generate unique id for duplicates by adding one to the suffix
        else {
          test = test.replace(/_(\d+)$/, function(match, number){ var num=+number+1; return("_" + num) });
        }
      }
      anchors[test]=1;
      return(test);
    }
  
    $(selectors.join(',')).filter(function(index) { return $(this).parent().attr("id") != 'header'; }).each(function () {
  
      var heading = $(this);
      var idx = selectors.indexOf(heading.prop('tagName').toLowerCase());
      var itr = 0;
  
      while (itr <= idx) {
        if (jQuery.isEmptyObject(last_ptr[itr])) {
          last_ptr[itr] = $('<ul>').addClass('nav');
          if (itr === 0) {
            base.append(last_ptr[itr])
          } else {
            if(last_ptr[itr-1].children('li').length === 0){
              last_ptr[itr-1].append(last_ptr[itr]);
            }
            else {
              last_ptr[itr - 1].children('li').last().append(last_ptr[itr]);
            }
          }
        }
        itr++;
      }
      var anchor = generate_anchor(heading.text());
      heading.attr('id', anchor);
      var a = $('<a>')
      .text(heading.text())
      .attr('href', '#' + anchor);
  
    var li = $('<li>')
      .append(a);
  
    last_ptr[idx].append(li);
    for (i = idx + 1; i < last_ptr.length; i++) {
      last_ptr[i] = {};
    }
    });
  }
  /* run scripts when document is ready */
  $(function() {
    "use strict";
  
    var $window = $(window);
    var $body = $(document.body);
  
    /* size of thumbnails */
  
    var hidden_types = ['source']
    var output_types = ['output', 'message', 'warning', 'error']
  
    /* style tables */
    $('table').addClass('table table-striped table-bordered table-hover table-condensed');
  
    $('pre code').each(function(i, e) {
      hljs.highlightBlock(e);
    });
  
    /* Magnific Popup */
    $(".thumbnail").each(function(){
      $(this).magnificPopup({
        disableOn: 768,
        closeOnContentClick: true,
  
        type: 'image',
        items: {
          src: $(this).find('img').attr('src'),
        }
      });
    });
  
    function toggle_block(obj, show) {
      var span = obj.find('span');
      if(show === true){
        span.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        obj.next('pre').slideDown();
      }
      else {
        span.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        obj.next('pre').slideUp();
      }
    }
  
    function toggle_thumbnails(imgs, show){
      if(show === true){
        imgs.parents().show()
        imgs.slideDown();
      }
      else {
        imgs.slideUp(400, function(){ $(this).parent().hide(); });
      }
    }
  
    function global_toggle(obj){
      var type = obj.attr('type');
      var show = !obj.parent('li').hasClass('active');
      if(show === true){
        obj.parent('li').addClass('active');
      }
      else{
        obj.parent('li').removeClass('active');
      }
      if(type == 'figure'){
        toggle_thumbnails($('.thumbnail img'), show);
      }
      else {
        $('.toggle.' + type).each(function() { toggle_block($(this), show); });
      }
    }
  
    /* onclick toggle next code block */
    $('.toggle').click(function() {
      var span = $(this).find('span');
      toggle_block($(this), !span.hasClass('glyphicon-chevron-down'));
      return false
    })
  
    // global toggles
    $('.toggle-global').click(function(){
      var type = $(this).attr('type');
      if(type === 'all-source'){
          $('li a.source').each(function() {
            global_toggle($(this));
          });
        }
      else if(type === 'all-output'){
        $.each(output_types, function(i, val){
          console.log(val);
          global_toggle($('li a.' + val));
        });
      }
      else {
        console.log($(this));
        global_toggle($(this));
      }
      return false;
    });
    /* table of contents */
    if($(['h1', 'h2', 'h3', 'h4'].join(',')).length > 0){
      $('body > #wrap > .container > .row').append('<div class="col-md-2"><div id="toc" class="well sidebar sidenav affix hidden-print"/></div>');
      $('#toc').generate_TOC();
    }
  
    $.each(hidden_types, function(i, type) {
      $('li[type=' + type + ']').each(function(){ global_toggle($(this)); });
    });
  
    /* remove paragraphs with no content */
    $('p:empty').remove();
  
    $body.scrollspy({
      target: '.sidebar',
    });
  
    /* theme switch */
    $('.theme-switch').click(function(){
      var css = $('link[title=' + $(this).attr('title') + ']');
      $('#theme[rel=stylesheet]').attr('href', css.attr('href'));
      $('.theme-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
    /* code style switch */ //TODO use same function for both of these?
    $('.highlight-switch').click(function(){
      var css = $('link[title="' + $(this).attr('title') + '"]');
      $('#highlight[rel=stylesheet]').attr('href', css.attr('href'));
      $('.highlight-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
  
    //TODO refresh on show/hide
    $window.on('load', function () {
      $body.scrollspy('refresh');
    })
  
  });
  
  </script>
  <style>
  /* Knitr_bootstrap styles */
  #header {
    display: none !important;
    visibility: hidden !important;
  }
  #wrap .container-fluid {
    padding: 0;
    overflow: hidden;
  }
  .toggle{
    text-transform: capitalize;
  }
  
  .toggle-global{
    text-transform: capitalize;
  }
  
  /* Sticky footer styles */
  * {
    margin:0;
  }
  html,
  body {
      height: 100%;
      padding:0 !important;
      /* The html and body elements cannot have any padding or margin. */
      /*overflow-x: hidden;*/
  }
  
  /* Wrapper for page content to push down footer */
  #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
  }
  
  /* Set the fixed height of the footer here */
  #push,
  #footer {
      height: 120px;
  }
  
  #footer {
    text-align: center;
  }
  
  /* Top level subheader elements.  These are the first nested items underneath a header element. */
  .header li {
    font-size: 20px;
  }
  
  /* Makes the font smaller for all subheader elements. */
  .sub-header li {
      font-size: 12px;
  }
  
  button.thumbnails {
    margin-left:0px;
  }
  
  /*
   * Side navigation
   *
   * Scrollspy and affixed enhanced navigation to highlight sections and secondary
   * sections of docs content.
   */
  
  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }
  
  /* First level of nav */
  .sidenav {
    margin-top: 30px;
    margin-bottom: 30px;
    padding-top:    10px;
    padding-bottom: 10px;
    border-radius: 5px;
  }
  
  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    padding: 5px 20px;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    border-right: 1px solid;
  }
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    background-color: transparent;
    border-right: 1px solid;
  }
  
  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }
  
  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }
  
  /* Show and affix the side nav when space allows it */
  @media screen and (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix-top,
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 30px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media screen and (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix {
      width: 263px;
    }
  }
  
  #toc {
    padding: 10px 0px;
    margin:0;
    border:0;
  }
  
  
  .panel pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
  button + pre {
    margin: 0;
    padding: 0;
  }
  pre code {
    border-radius: 0;
  }
  /* Magnific Popup CSS */
  .mfp-bg {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1042;
    overflow: hidden;
    position: fixed;
    background: #0b0b0b;
    opacity: 0.8;
    filter: alpha(opacity=80); }
  
  .mfp-wrap {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1043;
    position: fixed;
    outline: none !important;
    -webkit-backface-visibility: hidden; }
  
  .mfp-container {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 0 8px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box; }
  
  .mfp-container:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle; }
  
  .mfp-align-top .mfp-container:before {
    display: none; }
  
  .mfp-content {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin: 0 auto;
    text-align: left;
    z-index: 1045; }
  
  .mfp-inline-holder .mfp-content,
  .mfp-ajax-holder .mfp-content {
    width: 100%;
    cursor: auto; }
  
  .mfp-ajax-cur {
    cursor: progress; }
  
  .mfp-zoom-out-cur,
  .mfp-zoom-out-cur .mfp-image-holder .mfp-close {
    cursor: -moz-zoom-out;
    cursor: -webkit-zoom-out;
    cursor: zoom-out; }
  
  .mfp-zoom {
    cursor: pointer;
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
    cursor: zoom-in; }
  
  .mfp-auto-cursor .mfp-content {
    cursor: auto; }
  
  .mfp-close,
  .mfp-arrow,
  .mfp-preloader,
  .mfp-counter {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none; }
  
  .mfp-loading.mfp-figure {
    display: none; }
  
  .mfp-hide {
    display: none !important; }
  
  .mfp-preloader {
    color: #cccccc;
    position: absolute;
    top: 50%;
    width: auto;
    text-align: center;
    margin-top: -0.8em;
    left: 8px;
    right: 8px;
    z-index: 1044; }
  
  .mfp-preloader a {
    color: #cccccc; }
  
  .mfp-preloader a:hover {
    color: white; }
  
  .mfp-s-ready .mfp-preloader {
    display: none; }
  
  .mfp-s-error .mfp-content {
    display: none; }
  
  button.mfp-close,
  button.mfp-arrow {
    overflow: visible;
    cursor: pointer;
    background: transparent;
    border: 0;
    -webkit-appearance: none;
    display: block;
    padding: 0;
    z-index: 1046;
    -webkit-box-shadow: none;
    box-shadow: none; }
  
  button::-moz-focus-inner {
    padding: 0;
    border: 0; }
  
  .mfp-close {
    width: 44px;
    height: 44px;
    line-height: 44px;
    position: absolute;
    right: 0;
    top: 0;
    text-decoration: none;
    text-align: center;
    opacity: 0.65;
    padding: 0 0 18px 10px;
    color: white;
    font-style: normal;
    font-size: 28px;
    font-family: Arial, Baskerville, monospace; }
    .mfp-close:hover, .mfp-close:focus {
      opacity: 1; }
    .mfp-close:active {
      top: 1px; }
  
  .mfp-close-btn-in .mfp-close {
    color: #333333; }
  
  .mfp-image-holder .mfp-close,
  .mfp-iframe-holder .mfp-close {
    color: white;
    right: -6px;
    text-align: right;
    padding-right: 6px;
    width: 100%; }
  
  .mfp-counter {
    position: absolute;
    top: 0;
    right: 0;
    color: #cccccc;
    font-size: 12px;
    line-height: 18px; }
  
  .mfp-arrow {
    position: absolute;
    opacity: 0.65;
    margin: 0;
    top: 50%;
    margin-top: -55px;
    padding: 0;
    width: 90px;
    height: 110px;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }
  
  .mfp-arrow:active {
    margin-top: -54px; }
  
  .mfp-arrow:hover,
  .mfp-arrow:focus {
    opacity: 1; }
  
  .mfp-arrow:before, .mfp-arrow:after,
  .mfp-arrow .mfp-b,
  .mfp-arrow .mfp-a {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: 0;
    top: 0;
    margin-top: 35px;
    margin-left: 35px;
    border: medium inset transparent; }
  .mfp-arrow:after,
  .mfp-arrow .mfp-a {
    border-top-width: 13px;
    border-bottom-width: 13px;
    top: 8px; }
  .mfp-arrow:before,
  .mfp-arrow .mfp-b {
    border-top-width: 21px;
    border-bottom-width: 21px; }
  
  .mfp-arrow-left {
    left: 0; }
    .mfp-arrow-left:after,
    .mfp-arrow-left .mfp-a {
      border-right: 17px solid white;
      margin-left: 31px; }
    .mfp-arrow-left:before,
    .mfp-arrow-left .mfp-b {
      margin-left: 25px;
      border-right: 27px solid #3f3f3f; }
  
  .mfp-arrow-right {
    right: 0; }
    .mfp-arrow-right:after,
    .mfp-arrow-right .mfp-a {
      border-left: 17px solid white;
      margin-left: 39px; }
    .mfp-arrow-right:before,
    .mfp-arrow-right .mfp-b {
      border-left: 27px solid #3f3f3f; }
  
  .mfp-iframe-holder {
    padding-top: 40px;
    padding-bottom: 40px; }
  
  .mfp-iframe-holder .mfp-content {
    line-height: 0;
    width: 100%;
    max-width: 900px; }
  
  .mfp-iframe-scaler {
    width: 100%;
    height: 0;
    overflow: hidden;
    padding-top: 56.25%; }
  
  .mfp-iframe-scaler iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: black; }
  
  .mfp-iframe-holder .mfp-close {
    top: -40px; }
  
  /* Main image in popup */
  img.mfp-img {
    width: auto;
    max-width: 100%;
    height: auto;
    display: block;
    line-height: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 40px 0 40px;
    margin: 0 auto; }
  
  /* The shadow behind the image */
  .mfp-figure:after {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 40px;
    display: block;
    right: 0;
    width: auto;
    height: auto;
    z-index: -1;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: #444444; }
  
  .mfp-figure {
    line-height: 0; }
  
  .mfp-bottom-bar {
    margin-top: -36px;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    cursor: auto; }
  
  .mfp-title {
    text-align: left;
    line-height: 18px;
    color: #f3f3f3;
    word-wrap: break-word;
    padding-right: 36px; }
  
  .mfp-figure small {
    color: #bdbdbd;
    display: block;
    font-size: 12px;
    line-height: 14px; }
  
  .mfp-image-holder .mfp-content {
    max-width: 100%; }
  
  .mfp-gallery .mfp-image-holder .mfp-figure {
    cursor: pointer; }
  
  @media screen and (max-width: 800px) and (orientation: landscape), screen and (max-height: 300px) {
    /**
     * Remove all paddings around the image on small screen
     */
    .mfp-img-mobile .mfp-image-holder {
      padding-left: 0;
      padding-right: 0; }
  
    .mfp-img-mobile img.mfp-img {
      padding: 0; }
  
    /* The shadow behind the image */
    .mfp-img-mobile .mfp-figure:after {
      top: 0;
      bottom: 0; }
  
    .mfp-img-mobile .mfp-bottom-bar {
      background: rgba(0, 0, 0, 0.6);
      bottom: 0;
      margin: 0;
      top: auto;
      padding: 3px 5px;
      position: fixed;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box; }
  
    .mfp-img-mobile .mfp-bottom-bar:empty {
      padding: 0; }
  
    .mfp-img-mobile .mfp-counter {
      right: 5px;
      top: 3px; }
  
    .mfp-img-mobile .mfp-close {
      top: 0;
      right: 0;
      width: 35px;
      height: 35px;
      line-height: 35px;
      background: rgba(0, 0, 0, 0.6);
      position: fixed;
      text-align: center;
      padding: 0; }
  
    .mfp-img-mobile .mfp-figure small {
      display: inline;
      margin-left: 5px; } }
  @media all and (max-width: 900px) {
    .mfp-arrow {
      -webkit-transform: scale(0.75);
      transform: scale(0.75); }
  
    .mfp-arrow-left {
      -webkit-transform-origin: 0;
      transform-origin: 0; }
  
    .mfp-arrow-right {
      -webkit-transform-origin: 100%;
      transform-origin: 100%; }
  
    .mfp-container {
      padding-left: 6px;
      padding-right: 6px; } }
  .mfp-ie7 .mfp-img {
    padding: 0; }
  .mfp-ie7 .mfp-bottom-bar {
    width: 600px;
    left: 50%;
    margin-left: -300px;
    margin-top: 5px;
    padding-bottom: 5px; }
  .mfp-ie7 .mfp-container {
    padding: 0; }
  .mfp-ie7 .mfp-content {
    padding-top: 44px; }
  .mfp-ie7 .mfp-close {
    top: 0;
    right: 0;
    padding-top: 0; }
  
  //Magnific overrides
  .mfp-image img{
    background: white;
  }
  .mfp-figure:after {
    background: white;
  }
  
  /*
   * Off Canvas navbar toggle right
   * --------------------------------------------------
   */
  
  @media screen and (max-width: 768px) {
    .row-offcanvas .collapsing {
    -webkit-transition: none 0;
      -moz-transition: none 0;
      transition: none 0;
    }
   .row-offcanvas .navbar {
    position: absolute;
    z-index: 2;
      right:0;
      height:100%;
      width:55px;
      border:0;
      background-color:transparent;
    }
    .row-offcanvas .navbar-toggle {
      margin-right: 5px;
      margin-left: 5px;
    }
    .row-offcanvas {
      position: relative;
    }
    .row-offcanvas-right.active .navbar {
    position: absolute;
    z-index: 2;
      right: -28.4%;
      width:40%;
      background-color:#eee;
      border:0 solid #ddd;
      border-left-width:1px;
    }
    .row-offcanvas-right.active {
      left: -30%;
    }
    .row-offcanvas-right.active .navbar-collapse {
      position: relative;
      width: 100%;
    }
    .row-offcanvas .content {
    /*width:calc(100% - 60px);*/
    }
  }
  </style>
</head>
<body>
<title>
Documentos com R Markdown
</title>
<div id="wrap">
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="contents col-xs-12 col-md-10">
<center>
<h1>
R Markdown
</h1>
<h3>
São Paulo R Users Group
</h3>
<h3>
IME/USP, 18 de setembro de 2015
</h3>
<h6>
<a href="http://www.meetup.com/pt/useR-SP/">http://www.meetup.com/pt/useR-SP/</a>
</h6>
</center>
<br><br>
<p style="display: flex; justify-content: space-between; line-height: 0.75;">
<span> <a href="http://www.leg.ufpr.br/~fernandomayer">Fernando de Pol Mayer</a> </span> <span> <a href="http://www.ufpr.br/portalufpr/">Universidade Federal do Paraná</a> </span>
<p style="display: flex; justify-content: space-between; line-height: 0.75;">
<!-- <span> -->
<!-- <a href="http://www.coordest.ufpr.br/">Curso de Graduação em Estatística</a> -->
<!-- </span> -->
<span> <a href="http://www.leg.ufpr.br">Lab. de Estatística e Geoinformação - LEG</a> </span> <!-- <span> --> <!-- <p align="right", style="line-height: 0.75;"> --> <!-- </span> --> <a href="http://www.est.ufpr.br">Departamento de Estatística</a>
</p>
<h2 id="outline">Outline</h2>
<ul>
<li>Mostrar a ideia por trás do uso do R Markdown</li>
<li>Mostrar possibilidades</li>
<li>Material disponível:
<ul>
<li>Apresentação: <a href="http://www.leg.ufpr.br/~fernandomayer/useR/Rmarkdown-rautu.html" class="uri">http://www.leg.ufpr.br/~fernandomayer/useR/Rmarkdown-rautu.html</a></li>
<li>Código fonte: <a href="http://git.leg.ufpr.br/fernandomayer/Rmarkdown-rautu" class="uri">http://git.leg.ufpr.br/fernandomayer/Rmarkdown-rautu</a></li>
</ul></li>
</ul>
<h2 id="como-a-ciência-funciona">Como a ciência funciona</h2>
<ul>
<li>Replicação
<ul>
<li>Muitas vezes difícil</li>
</ul></li>
<li>Reproducibilidade
<ul>
<li>Mais fácil. O mínimo de qualquer pesquisa é ser reprodutível</li>
</ul></li>
<li>Elementos da reproducibilidade:
<ol style="list-style-type: decimal">
<li>Dados</li>
<li>Código</li>
<li>Documentação</li>
<li>Distribuição</li>
</ol></li>
</ul>
<h2 id="pesquisa-reprodutível">Pesquisa reprodutível</h2>
<blockquote>
<p><em>The source code is real</em></p>
<blockquote>
<p>ESS Project</p>
</blockquote>
</blockquote>
<p>Pseudo-código para escrever um artigo ou relatório científico:</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-up"></span> R source
</h5>
</div>
<pre style="display:none"><code class="source r">1. Importe uma base de dados para um *software*
2. Execute um procedimento analítico
3. Gere tabelas e figuras separadamente
4. Copie os resultados de análises
5. Coloque tudo isso em um editor de texto e escreva o documento</code></pre>
</div>
</div>
<p>Mudou alguma linha na base de dados? Esqueceu de algo? Volte para o item (1) e repita o processo (e boa sorte)!</p>
<p>Pseudo-código para escrever um artigo ou relatório científico <strong>reprodutível</strong>:</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-up"></span> R source
</h5>
</div>
<pre style="display:none"><code class="source r">1. Use o R Markdown e realize os 5 passos acima em um único documento</code></pre>
</div>
</div>
<p>Mudou alguma linha na base de dados? Esqueceu de algo? Altere o código e gere um novo documento.</p>
<ul>
<li>Dessa forma, um documento pode ser gerado dinamicamente a partir de um <strong>código-fonte</strong>.</li>
<li>Da mesma forma que um <em>software</em> possui seu código-fonte, um documento dinâmico é o código-fonte de um relatório.</li>
<li>É uma combinação de código de computador e as correspondentes narrativas descrevendo o resultado que o código está gerando (números, tabelas, figuras, ...).</li>
<li>Quando <strong>compilamos</strong> o documento dinâmico, o código de computador é executado, e as saídas são apresentadas. Portanto obtemos um documento final que mistura <strong>código</strong> e <strong>texto</strong>.</li>
<li>Como gerenciamos apenas o código-fonte do documento, ficamos livres de todas as etapas manuais mencionadas acima.</li>
</ul>
<h2 id="literate-programming">Literate Programming</h2>
<blockquote>
<p><em>Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to humans what we want the computer to do.</em></p>
<blockquote>
<p>Donald Knuth</p>
</blockquote>
</blockquote>
<p>O ideia básica por trás de documentos dinâmicos decorre diretamente do conceito de <em>literate programming</em> (&quot;programação letrada&quot;), um paradigma concebido por <a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a> em 1984.</p>
<table>
<tr>
<td align="center">
<img src="img/knuth.jpg" height="50%">
</td>
<td align="center">
<img src="img/Literate_Programming_book_cover.jpg" height="55%">
</td>
</tr>
</table>
<ul>
<li>O conceito é o de misturar <strong>literatura</strong> (o texto em uma linguagem humana) com <strong>códigos de programação</strong>, tornando claro cada etapa de um programa e/ou análise</li>
<li>Com um único código-fonte, podemos
<ul>
<li>Produzir documentos para humanos (HTML, PDF, ...) ⇒ <em>weave</em></li>
<li>Produzir documentos para máquinas (código) ⇒ <em>tangle</em></li>
</ul></li>
<li>Knuth criou um sistema chamado <strong>WEB</strong> para fazer essa mistura dos seus textos em <span class="math inline"><em>T</em><em>e</em><em>X</em></span> com a linguagem Pascal</li>
<li>Atualmente muitos outros sistemas existem para misturar códigos com texto em várias linguagens</li>
</ul>
<h2 id="literate-programming-no-r">Literate Programming no R</h2>
<p>Com a ascensão do R no início dos anos 2000, [Friedrich Leisch][] criou o [Sweave][] em 2002</p>
<ul>
<li>S + weave</li>
<li>Permite &quot;entrelaçar&quot; textos do <span class="math inline"><em>L</em><em>a</em><em>T</em><em>e</em><em>X</em></span> com códigos do R</li>
<li>Ainda é muito utilizado e já é distribuído como uma função do R dentro do pacote <code>utils</code></li>
</ul>
<p>No final de 2011, [Yihui Xie][] criou o pacote [knitr][] com a proposta de ser mais flexível, fácil e <strong>preparado para a Web</strong></p>
<blockquote>
<p><em>knitr = Sweave + cacheSweave + pgfSweave + weaver + animation::saveLatex + R2HTML::RweaveHTML + highlight::HighlightWeaveLatex + 0.2 </em> brew + 0.1 <em> SweaveListingUtils + more</em></p>
</blockquote>
<ul>
<li>knit + R</li>
<li>Uma re-implementação mais moderna do Sweave</li>
<li>Permite &quot;entrelaçar&quot; textos do <span class="math inline"><em>L</em><em>a</em><em>T</em><em>e</em><em>X</em></span>, HTML e <strong>Markdown</strong> com códigos do R</li>
<li>Também permite misturar texto com códigos de outras linguagens: Python, awk, C++, shell.</li>
<li>Adiciona muitas facilidades como
<ul>
<li>Cache</li>
<li>Decoração e formatação automática de códigos</li>
<li>Geração de gráficos mais direta</li>
</ul></li>
</ul>
<h2 id="o-que-é-markdown">O que é Markdown?</h2>
<blockquote>
<p><em>Markdown is a text-to-HTML conversion tool for web writers. Markdown allows you to write using an easy-to-read, easy-to-write plain text format, then convert it to structurally valid XHTML (or HTML).</em></p>
<blockquote>
<p>John Gruber</p>
</blockquote>
</blockquote>
<ul>
<li>[Markdown][] é uma [linguagem de marcação] simples para escrever textos</li>
<li>O texto pode ser lido sem nenhum processamento, ou seja, da maneira como está escrito</li>
<li>Outras linguagens de marcação como HTML e <span class="math inline"><em>L</em><em>a</em><em>T</em><em>e</em><em>X</em></span> requerem um grande número de <em>tags</em> para formatar o texto, muitas vezes dificultando a leitura do código-fonte</li>
<li>A proposta do Markdown é que o escritor se concentre no texto e não na formatação</li>
<li>Pode ser convertido para vários outros formatos além de HTML</li>
</ul>
<h3 id="sintaxe-do-markdown">Sintaxe do Markdown</h3>
<p>A sintaxe do Markdown é muito simples, e pode ser resumida da seguinte forma:</p>
<h4 id="cabeçalhos">Cabeçalhos</h4>
<pre><code># Título
## Sub-título
### Sub-sub-título</code></pre>
<h4 id="itálico">Itálico</h4>
<pre><code>*Este texto aparecerá em itálico.*</code></pre>
<p><em>Este texto aparecerá em itálico.</em></p>
<h4 id="negrito">Negrito</h4>
<pre><code>**Este texto aparecerá em negrito.**</code></pre>
<p><strong>Este texto aparecerá em negrito.</strong></p>
<h4 id="listas-não-ordenadas">Listas não-ordenadas</h4>
<pre><code>- Primeiro item
- Segundo item
- Terceiro item</code></pre>
<ul>
<li>Primeiro item</li>
<li>Segundo item</li>
<li>Terceiro item</li>
</ul>
<h4 id="listas-ordenadas">Listas ordenadas</h4>
<pre><code>1. Primeiro item
2. Segundo item
3. Terceiro item</code></pre>
<ol style="list-style-type: decimal">
<li>Primeiro item</li>
<li>Segundo item</li>
<li>Terceiro item</li>
</ol>
<h4 id="sub-listas">Sub-listas</h4>
<p>Utilize 4 espaços para criar uma sub-lista:</p>
<pre><code>1. Primeiro item
    - Um sub-item
    - Outro sub-item
2. Segundo item
3. Terceiro item</code></pre>
<ol style="list-style-type: decimal">
<li>Primeiro item
<ul>
<li>Um sub-item</li>
<li>Outro sub-item</li>
</ul></li>
<li>Segundo item</li>
<li>Terceiro item</li>
</ol>
<h4 id="links">Links</h4>
<p>Links para endereços Web podem ser inseridos com <code>[texto](link)</code>:</p>
<pre><code>O criador do conceito de &quot;literate programming&quot; foi
[Donald Knuth](https://en.wikipedia.org/wiki/Donald_Knuth).</code></pre>
<p>O criador do conceito de &quot;literate programming&quot; foi <a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a>.</p>
<pre><code>Devemos instalar o pacote [knitr](http://yihui.name/knitr) para poder
usar o R Markdown.</code></pre>
<p>Devemos instalar o pacote <a href="http://yihui.name/knitr">knitr</a> para poder usar o R Markdown.</p>
<h4 id="imagens">Imagens</h4>
<p>Para inserir uma imagem, a sintaxe é a mesma de inserir um link, mas com uma exclamação (<code>!</code>) na frente: <code>![texto](imagem)</code>.</p>
<p>O link para a imagem pode ser um enderço Web:</p>
<pre><code>![Logo do R](http://developer.r-project.org/Logo/Rlogo-5.png)</code></pre>
<p><img src="http://developer.r-project.org/Logo/Rlogo-5.png" alt="Logo do R" /></p>
<p>Ou um endereço local:</p>
<pre><code>![Logo do Markdown](img/markdown.png)</code></pre>
<p><img src="img/markdown.png" alt="Logo do Markdown" /></p>
<h4 id="parágrafo">Parágrafo</h4>
<p>Para criar parágrafos basta pular uma linha:</p>
<pre><code>O criador do conceito de &quot;literate programming&quot; foi
[Donald Knuth](https://en.wikipedia.org/wiki/Donald_Knuth).

Devemos instalar o pacote [knitr](http://yihui.name/knitr) para poder
usar o R Markdown.</code></pre>
<p>O criador do conceito de &quot;literate programming&quot; foi <a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a>.</p>
<p>Devemos instalar o pacote <a href="http://yihui.name/knitr">knitr</a> para poder usar o R Markdown.</p>
<h4 id="códigos">Códigos</h4>
<p>Para apresentar códigos na própria linha, colocamos o texto entre duas crases (<code>`</code>):</p>
<pre><code>Para gerar números aleatórios de uma distribuição normal no R, use a
função `rnorm()`.</code></pre>
<p>Para gerar números aleatórios de uma distribuição normal no R, use a função <code>rnorm()</code>.</p>
<p>Para apresentar blocos de código, coloque o texto entre três crases seguidas (<code>```</code>) no início e no final:</p>
<pre><code>```
x &lt;- rnorm(n = 10, mean = 100, sd = 5)
hist(x, main = &quot;&quot;)
```</code></pre>
<pre><code>x &lt;- rnorm(n = 10, mean = 100, sd = 5)
hist(x, main = &quot;&quot;)</code></pre>
<p>Note que esse código não será interpretado, ele apenas será mostrado no texto. Esse será o papel do R aqui!</p>
<h4 id="tabelas">Tabelas</h4>
<p>Tabelas podem ser escritas da seguinte forma:</p>
<pre><code>    Caracter | Permissão
    ---------|----------
    `r`      | Permissão de leitura (*read*)
    `w`      | Permissão de escrita (*write*)
    `x`      | Permissão de execução (*execute*)
    `-`      | Permissão desabilitada</code></pre>
<p>Para gerar o seguinte resultado:</p>
<table>
<thead>
<tr class="header">
<th align="left">Caracter</th>
<th align="left">Permissão</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>r</code></td>
<td align="left">Permissão de leitura (<em>read</em>)</td>
</tr>
<tr class="even">
<td align="left"><code>w</code></td>
<td align="left">Permissão de escrita (<em>write</em>)</td>
</tr>
<tr class="odd">
<td align="left"><code>x</code></td>
<td align="left">Permissão de execução (<em>execute</em>)</td>
</tr>
<tr class="even">
<td align="left"><code>-</code></td>
<td align="left">Permissão desabilitada</td>
</tr>
</tbody>
</table>
<h4 id="equações-matemáticas">Equações matemáticas</h4>
<p>Equações matemáticas podem ser escritas em formato <span class="math inline"><em>L</em><em>a</em><em>T</em><em>e</em><em>X</em></span>. A página HTML resultante irá remderizar as equações através do <a href="http://www.mathjax.org">MathJax</a>.</p>
<p>Equações na própria linha podem ser inseridas entre <code>$</code>:</p>
<pre><code>Um modelo de regressão linear simples:  $Y = \beta_0 + \beta_1 x + \epsilon$.</code></pre>
<p>Um modelo de regressão linear simples: <span class="math inline"><em>Y</em> = <em>β</em><sub>0</sub> + <em>β</em><sub>1</sub><em>x</em> + <em>ϵ</em></span>.</p>
<p>Equações podem ser exibidas entre <code>$$</code>:</p>
<pre><code>$$
f(x;\mu,\sigma^2) = \frac{1}{\sigma\sqrt{2\pi}} 
e^{ -\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2 }
$$</code></pre>
<p><br /><span class="math display">$$
f(x;\mu,\sigma^2) = \frac{1}{\sigma\sqrt{2\pi}} 
e^{ -\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2 }
$$</span><br /></p>
<h3 id="escrevendo-um-documento-em-markdown">Escrevendo um documento em Markdown</h3>
<p>Um documento Markdown possui a extensão <code>.md</code> (embora não seja a única possível).</p>
<p>Veja o arquivo de exemplo <a href="Exemplo1.md" class="uri">Exemplo1.md</a>.</p>
<p>Para converter um documento Markdown em HTML é necessário um <strong>conversor</strong>.</p>
<p>O conversor padrão do Markdown é escrito em Perl, e pode ser integrado em diversas ferramentas, mas não é apropriado para usuários comuns.</p>
<p>Para testar a conversão do documento, copie e cole na página do <a href="http://daringfireball.net/projects/markdown/dingus&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;">Dingus</a>.</p>
<h2 id="pandoc">Pandoc</h2>
<p>O <a href="#pandoc">Pandoc</a> é um conversor extremamente versátil, capaz de converter diversos formatos, incluindo Markdown para HTML.</p>
<p>Se o Pandoc estiver instalado no seu sistema (Linux) é possível converter o documento com</p>
<div class="row">
<div class="panel panel-primary">
<div class="source sh panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> sh source
</h5>
</div>
<pre style=""><code class="source sh">pandoc -f markdown -t html Exemplo1.md -o Exemplo1.html</code></pre>
</div>
</div>
<p>O pacote <code>knitr</code> possui a função <code>pandoc()</code> que é um <em>wrapper</em> para executar o programa <code>pandoc</code> no sistema.</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">pandoc(input = "Exemplo1.md", format = "html")</code></pre>
</div>
</div>
<p>Em ambos os casos, o resultado pode ser visualizado ao abrir o arquivo <a href="Exemplo1.html" class="uri">Exemplo1.html</a> no navegador.</p>
<h2 id="usando-o-knitr-com-markdown">Usando o knitr com Markdown</h2>
<p>No exemplo anterior, escrevemos um documento em Markdown (<code>.md</code>) e inserimos códigos do R, que são apenas apresentados no documento final.</p>
<p>Agora vamos usar o knitr a nosso favor, fazedo com que ele interprete e retorne resultados dos códigos que inserimos.</p>
<p>Para isso renomeie a extensão do arquivo de <code>.md</code> para <code>.Rmd</code>.</p>
<p>Os blocos de códigos (ou <em>chunks</em>) agora devem conter uma marcação especial para indicar que devem ser interpretados pelo R. Para isso, colocamos <code>{r}</code> no início de cada bloco, que agora ficam</p>
<pre><code>```{r}
x &lt;- rnorm(n = 10, mean = 100, sd = 5)
hist(x, main = &quot;&quot;)
```</code></pre>
<p>Usando o mesmo exemplo anterior, vamos renomear o arquivo <code>Exemplo1.md</code> para <code>Exemplo1-knitr.Rmd</code> e incluir a marção <code>{r}</code>.</p>
<p>Também é possível colocar códigos do R para serem renderizados na própria linha com <code>`r `</code>, por exemplo, <code>`r 2+2`</code> gera o resultado 4 no documento.</p>
<p>Veja o arquivo <a href="Exemplo1-knitr.Rmd" class="uri">Exemplo1-knitr.Rmd</a>. Agora usamos o knitr, através da função <code>knit()</code> para compilar o documento <code>.Rmd</code> em um documento com sintaxe Markdown <code>.md</code></p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">knit("Exemplo1-knitr.Rmd")</code></pre>
</div>
</div>
<table>
<tr>
<td align="center">
<img src="img/knit.svg" height="50%">
</td>
</tr>
</table>
<p>O resultado da compilação pode ser vista no arquivo <a href="Exemplo1-knitr.md" class="uri">Exemplo1-knitr.md</a>.</p>
<p>Agora temos um documento em Markdown com os códigos do R avaliados. Mas ainda precisamos processar esse arquivo para gerar o arquivo <code>.html</code> através do Pandoc</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">pandoc(input = "Exemplo1-knitr.md", format = "html")</code></pre>
</div>
</div>
<p>que gera o arquivo <a href="Exemplo1-knitr.html" class="uri">Exemplo1-knitr.html</a> que poder ser visualizado no navegador.</p>
<h2 id="usando-o-r-markdown">Usando o R Markdown</h2>
<p>Para facilitar a conversão de arquivos <code>.Rmd</code> em <code>.html</code>, usamos o pacote [rmarkdown][], através da função <code>render()</code>.</p>
<p>A função <code>render()</code> é uma <em>wrapper</em> que internamente chama a <code>knitr::knit()</code> e posteriormente converte o documento para <code>.html</code> usando o Pandoc.</p>
<p>A vantagem de usar a <code>rmarkdown::render()</code> é que ela possui uma série de opções que facilitam a conversão de documentos além de já renderizar páginas HTML mais amigáveis (atrvés de arquivos CSS).</p>
<p>Para usar esse função você precisa:</p>
<ol style="list-style-type: decimal">
<li>Instalar o pacote <code>rmarkdown</code> com <code>install.packages(&quot;rmarkdown&quot;)</code></li>
<li>Instalar o Pandoc no seu sistema</li>
</ol>
<p>No RStudio, esse pacote já vem instalado, assim como uma versão embutida do Pandoc.</p>
<p>Usando o exemplo anterior, vamos compilar o arquivo <a href="Exemplo1-knitr.Rmd" class="uri">Exemplo1-knitr.Rmd</a> com</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">## Carrega o pacote
library(rmarkdown)
render("Exemplo1-knitr.Rmd")</code></pre>
</div>
</div>
<table>
<tr>
<td align="center">
<img src="img/split_apply_combine.svg" height="50%">
</td>
</tr>
</table>
<p>E o resultado pode ser visto no arquivo <a href="Exemplo1-knitr.html" class="uri">Exemplo1-knitr.html</a>.</p>
<p>No RStudio, esse processo todo pode ser feito pelo botão <kbd>Knit<kbd>.</p>
<h2 id="convertendo-r-markdown-para-outros-formatos">Convertendo R Markdown para outros formatos</h2>
<p>Por padrão, a função <code>render()</code> gera um arquivo <code>.html</code> mas existem outros formatos finais possíveis graças ao <strong>Pandoc</strong>.</p>
<p>A chamada anterior é equivalente a</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-knitr.Rmd", output_format = "html_document")</code></pre>
</div>
</div>
<p>O pacote <code>rmarkdown</code> possui uma sério de formatos de saída, que posuem os sufixos <code>_document</code> para documentos, e <code>_presentation</code> para apresentações (slides). Alguns deles:</p>
<ul>
<li>Documentos:
<ul>
<li><code>html_document</code></li>
<li><code>pdf_document</code></li>
<li><code>word_document</code></li>
</ul></li>
<li>Apresentações:
<ul>
<li><code>ioslides_presentation</code></li>
<li><code>slidy_presentation</code></li>
<li><code>beamer_presentation</code></li>
</ul></li>
</ul>
<p>Podemos converter um documento em R Markdown para PDF com</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-knitr.Rmd", output_format = "pdf_document")</code></pre>
</div>
</div>
<p>O resultado é o arquivo <a href="Exemplo1-knitr.pdf" class="uri">Exemplo1-knitr.pdf</a>. A função <code>render()</code> usa o Pandoc para converter Markdown para <span class="math inline"><em>L</em><em>a</em><em>T</em><em>e</em><em>X</em></span>, e depois para PDF.</p>
<p>Um documento do Word pode ser gerado com</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-knitr.Rmd", output_format = "word_document")</code></pre>
</div>
</div>
<p>Para gerar <a href="Exemplo1-knitr.docx" class="uri">Exemplo1-knitr.docx</a>.</p>
<p>Apresentações em slides HTML podem ser geradas em diversos formatos, um deles é o <code>ioslides</code></p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-knitr.Rmd", output_format = "ioslides_presentation",
       output_file = "Exemplo1-knitr-ioslides.html")</code></pre>
</div>
</div>
<p>Veja o resultado em <a href="Exemplo1-knitr-ioslides.html" class="uri">Exemplo1-knitr-ioslides.html</a>.</p>
<p>Apresentações em beamer</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-knitr.Rmd", output_format = "beamer_presentation",
       output_file = "Exemplo1-knitr-beamer.pdf")</code></pre>
</div>
</div>
<p>Com resultado no arquivo <a href="Exemplo1-knitr-beamer.pdf" class="uri">Exemplo1-knitr-beamer.pdf</a>.</p>
<h2 id="metadados">Metadados</h2>
<p>Uma opção interessante ao utilizar o Pandoc é incluir metados no formato [YAML][].</p>
<p>Os metadados em YAML são escritos em formato de lista aninhada, e o Pandoc usa essas informações para incluir, por exemplo, título, autor, e data em um documento.</p>
<p>A opção mais importante para o <code>rmarkdown</code> é o campo <code>output</code>, que permite especificar o formato desejado de saída, o mesmo especificado no argumento <code>output_format =</code> da função <code>render()</code>.</p>
<p>Os metadados em YAML são colocados sempre no <strong>início</strong> de um documento, e são delimitados por <code>---</code>. Exemplo típico:</p>
<pre><code>---
title: &quot;Meu documento em R Markdown&quot;
author: &quot;Fernando Mayer&quot;
date: 18 de setembro, 2015
output: html_document
---</code></pre>
<p>Veja o arquivo <a href="Exemplo1-yaml.Rmd" class="uri">Exemplo1-yaml.Rmd</a>.</p>
<p>Com isso, não é mais necessário especificar o argumento <code>output_format =</code> na chamada da função <code>render()</code>.</p>
<p>Também é possível incluir vários formatos ao mesmo tempo, por exemplo</p>
<pre><code>---
title: &quot;Meu documento em R Markdown&quot;
author: &quot;Fernando Mayer&quot;
date: 18 de setembro, 2015
output:
  html_document: default
  pdf_document: default
---</code></pre>
<p>E compilar todos eles ao mesmo tempo com</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo1-yaml.Rmd", output_format = "all")</code></pre>
</div>
</div>
<p>Veja <a href="Exemplo1-yaml.html" class="uri">Exemplo1-yaml.html</a>, e <a href="Exemplo1-yaml.pdf" class="uri">Exemplo1-yaml.pdf</a>.</p>
<h2 id="opções-do-knitr">Opções do knitr</h2>
<p>Todas as opções do knitr para controlar a saída dos resultados de códigos do R são válidas para o R Markdown.</p>
<ul>
<li>Para afetar um único <em>chunk</em>, coloque as opções individualmente
<pre><code>```{r, opt1=val1, opt2=val2}
# código
```</code></pre></li>
<li>Para afetar <strong>todos</strong> os <em>chunks</em> de um documento, use a função <code>knitr::opts_chunk$set()</code>:
<pre><code>```{r, echo=FALSE}
knitr::opts_chunk$set(opt1 = val1,
                  opt2 = val2
)
```</code></pre></li>
</ul>
<p>As opções mais importantes são</p>
<ul>
<li><code>eval = FALSE</code> para não avaliar o código, apenas mostrar</li>
<li><code>echo = FALSE</code> para não mostrar o código, apenas as saídas</li>
<li><code>results = &quot;hide&quot;</code> para não mostrar as saídas</li>
<li><code>results = &quot;asis&quot;</code> para que o resultado seja tratado como texto literal em Markdown. Por exemplo, para gerar uma tabela a partir de um objeto do R, podemos usar a função <code>knitr::kable()</code>
<pre><code>```{r, results="asis"}
kable(head(iris))
```</code></pre></li>
</ul>
<div class="row">
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">5.4</td>
<td align="right">3.9</td>
<td align="right">1.7</td>
<td align="right">0.4</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><code>warning = FALSE</code> e <code>message = FALSE</code> para suprimir as mensagens de aviso</li>
<li><code>fig.width = 5</code> and <code>fig.height = 5</code> para alterar o tamanho dos gráficos gerados pelo R (em polegadas)</li>
<li><code>cache = TRUE</code> para armazenar os resultados</li>
</ul>
<p>A lista completa de opções está em <a href="http://yihui.name/knitr/options" class="uri">http://yihui.name/knitr/options</a>.</p>
<h2 id="um-exemplo-mais-interessante">Um exemplo mais interessante</h2>
<p>Para um exemplo mais completo veja o arquivo <a href="Exemplo2.Rmd" class="uri">Exemplo2.Rmd</a>.</p>
<p>Note que nos metadados YAML temos mais opções para cada formato de saída. Para compilar esse documento, podemos usar</p>
<div class="row">
<div class="panel panel-primary">
<div class="source R panel-heading toggle">
<h5 class="panel-title">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</h5>
</div>
<pre style=""><code class="source r">render("Exemplo2.Rmd", output_format = "all")</code></pre>
</div>
</div>
<p>Para gerar os arquivos <a href="Exemplo2.html" class="uri">Exemplo2.html</a> e <a href="Exemplo2.pdf" class="uri">Exemplo2.pdf</a>.</p>
<h2 id="referências">Referências</h2>
<ul>
<li><a href="http://www.amazon.com/dp/1498716962/ref=cm_sw_su_dp">Dynamic Documents with R and knitr</a></li>
<li><a href="http://kbroman.org/knitr_knutshell">knitr in a nutshell</a></li>
<li><a href="https://leanpub.com/reportwriting">Report Writing for Data Science in R</a></li>
</ul>
<!-- links -->
<div id="push">

</div>
<div id="footer">
<div class="container">
<p class="text-muted" id="credit">
Styled with <a href="https://github.com/jimhester/knitrBootstrap">knitrBootstrap</a>
</p>
</div>
</div>
<link rel="stylesheet" id="theme" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" media="screen"></link><link rel="stylesheet" id="highlight" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/zenburn.min.css" media="screen"></link>
</div>
</body>
</html>
